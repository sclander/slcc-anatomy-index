(this["webpackJsonpslcc-anatomy-index"]=this["webpackJsonpslcc-anatomy-index"]||[]).push([[0],{33:function(e,t,a){e.exports=a(50)},38:function(e,t,a){},39:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),i=(a(38),a(30)),u=a(1),s=(a(39),a(6)),o=a(31),m=a(19),f=a(15),d=a(2),v=function(e,t,a){return Object(d.isEmpty)(t)||Object(d.isEmpty)(a)?Object(d.isEmpty)(t)?Object(d.isEmpty)(a)?e:Object(d.filter)(e,(function(e){return e.name.includes(a)})):Object(d.filter)(e,(function(e){var a,n=!1,r=Object(m.a)(t);try{for(r.s();!(a=r.n()).done;){var l=a.value;l.includes("a")&&parseInt(l.substr(1))===e.activity&&(n=!0)}}catch(c){r.e(c)}finally{r.f()}return n})):Object(d.filter)(e,(function(e){var n,r=!1,l=Object(m.a)(t);try{for(l.s();!(n=l.n()).done;){var c=n.value;c.includes("a")&&parseInt(c.substr(1))===e.activity&&e.name.includes(a)&&(r=!0)}}catch(i){l.e(i)}finally{l.f()}return r}))},E=Object(f.b)({name:"resultList",initialState:{terms:[],filters:[],filteredTerms:[],searchQuery:""},reducers:{update:function(e,t){e.terms=t.payload,e.filteredTerms=t.payload},toggleFilter:function(e,t){Object(d.includes)(e.filters,t.payload)?e.filters=Object(d.filter)(e.filters,(function(e){return e!==t.payload})):e.filters=[].concat(Object(o.a)(e.filters),[t.payload]),e.filteredTerms=v(e.terms,e.filters,e.searchQuery)},clearFilters:function(e){e.filters=[],e.filteredTerms=e.terms},updateSearchQuery:function(e,t){e.searchQuery=t.payload,e.filteredTerms=v(e.terms,e.filters,e.searchQuery)},clearSearchQuery:function(e){e.filters=[],e.searchQuery="",e.filteredTerms=e.terms}}}),b=E.actions,p=b.update,g=b.toggleFilter,y=(b.clearFilters,b.updateSearchQuery),h=b.clearSearchQuery,O=function(e){return e.resultList.filteredTerms},j=function(e){return e.resultList.filters},N=function(e){return e.resultList.searchQuery},S=E.reducer;var x=function(){var e=Object(s.c)(j),t=Object(s.b)(),a=function(e,a){var n="filter a".concat(e);return(Object(d.includes)(a,"a".concat(e))||Object(d.isEmpty)(a))&&(n="filter a".concat(e," active")),r.a.createElement("div",{className:n,onClick:function(){return t(g("a".concat(e)))}},"A".concat(e))};return r.a.createElement("div",null,r.a.createElement("h3",{className:"filters-title"},"Filters"),r.a.createElement("div",{className:"filters"},a(1,e),a(2,e),a(3,e),a(4,e),a(5,e),a(6,e),a(7,e),a(8,e),a(9,e),a(10,e),a(11,e),a(12,e)))};var w=function(){var e=Object(s.c)(N),t=Object(s.b)();return r.a.createElement("div",{className:"search-bar"},r.a.createElement("input",{className:"search-bar__input",onChange:function(e){return t(y(e.target.value))},value:e,placeholder:"Search"}),function(e){if(e.length>0)return r.a.createElement("span",{className:"search-bar__clear",onClick:function(){return t(h())}},"X")}(e))};var I=function(e){var t=e.result,a="badge a".concat(t.activity);return r.a.createElement("div",{className:"result"},r.a.createElement("div",{className:a},r.a.createElement("span",null,"".concat(t.activity,"-").concat(t.table))),r.a.createElement("div",{className:"result-text"},r.a.createElement("h6",{className:"result-name"},t.name),t.parentStructure&&r.a.createElement("b",{className:"result-parent"},"part of the ",t.parentStructure),r.a.createElement("p",{className:"result-definition"},t.definition),t.location&&r.a.createElement("p",{className:"result-location"},r.a.createElement("span",null,"Location: "),t.location),t.function&&r.a.createElement("p",{className:"result-function"},r.a.createElement("span",null,"Function: "),t.function),t.action&&r.a.createElement("p",{className:"result-action"},r.a.createElement("span",null,"Action: "),t.action),t.origin&&r.a.createElement("p",{className:"result-origin"},r.a.createElement("span",null,"Origin: "),t.origin),t.insertion&&r.a.createElement("p",{className:"result-insertion"},r.a.createElement("span",null,"Insertion: "),t.insertion)))};var Q=function(e){var t=Object(s.c)(O),a=Object(s.b)();return Object(d.isEmpty)(t)&&e.firebase.db.collection("terms").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));a(p(t))})),r.a.createElement("div",{className:"results"},function(e){return Object(d.sortBy)(e,["activity","table","name"]).map((function(e){var t="".concat(e.activity,"-").concat(e.table,"-").concat(e.name);return r.a.createElement(I,{result:e,key:t})}))}(t))};var k=function(e){return r.a.createElement("div",{className:"app"},r.a.createElement(x,null),r.a.createElement(w,null),r.a.createElement(Q,{firebase:e.firebase}))},A=a(32);var L=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Add new term"),r.a.createElement("form",{onSubmit:function(t){return function(e,t){e.preventDefault();t.firebase.db.collection("terms").add(Object(A.a)({activity:parseInt(e.target.activity.value),table:parseInt(e.target.table.value),name:e.target.name.value,definition:e.target.definition.value},e.target.parentStructure.value.length>0&&{parentStructure:e.target.parentStructure.value},{},e.target.location.value.length>0&&{location:e.target.location.value},{},e.target.function.value.length>0&&{function:e.target.function.value},{},e.target.origin.value.length>0&&{origin:e.target.origin.value},{},e.target.insertion.value.length>0&&{insertion:e.target.insertion.value},{},e.target.action.value.length>0&&{action:e.target.action.value}));e.target.name.value="",e.target.definition.value="",e.target.location.value="",e.target.function.value="",e.target.origin.value="",e.target.insertion.value="",e.target.action.value=""}(t,e)}},r.a.createElement("div",null,r.a.createElement("label",null,"Activity"),r.a.createElement("input",{name:"activity"})),r.a.createElement("div",null,r.a.createElement("label",null,"Table"),r.a.createElement("input",{name:"table"})),r.a.createElement("div",null,r.a.createElement("label",null,"Parent Structure"),r.a.createElement("input",{name:"parentStructure"})),r.a.createElement("div",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{name:"name"})),r.a.createElement("div",null,r.a.createElement("label",null,"Definition"),r.a.createElement("textarea",{name:"definition"})),r.a.createElement("div",null,r.a.createElement("label",null,"Location"),r.a.createElement("textarea",{name:"location"})),r.a.createElement("div",null,r.a.createElement("label",null,"Function"),r.a.createElement("textarea",{name:"function"})),r.a.createElement("div",null,r.a.createElement("label",null,"Action"),r.a.createElement("textarea",{name:"action"})),r.a.createElement("div",null,r.a.createElement("label",null,"Origin"),r.a.createElement("textarea",{name:"origin"})),r.a.createElement("div",null,r.a.createElement("label",null,"Insertion"),r.a.createElement("textarea",{name:"insertion"})),r.a.createElement("button",{type:"submit"},"Add new term")))},C=r.a.createContext(null),F=a(29),T=a(20),_=a.n(T),q=(a(45),{apiKey:"AIzaSyDFqGRk5Ml1MqkspZRLSqOQq7AdOew9s_U",authDomain:"slcc-anatomy-index.firebaseapp.com",databaseURL:"https://slcc-anatomy-index.firebaseio.com",projectId:"slcc-anatomy-index",storageBucket:"slcc-anatomy-index.appspot.com",messagingSenderId:"538776168870",appId:"1:538776168870:web:214cf1e795acb1de644767"}),B=function e(){var t=this;Object(F.a)(this,e),this.term=function(e){return t.db.ref("terms/".concat(e))},this.terms=function(){return t.db.ref("terms")},_.a.initializeApp(q),this.db=_.a.firestore()};function D(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement("h1",null,"SLCC Anatomy Index"),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/admin"},r.a.createElement(C.Consumer,null,(function(e){return r.a.createElement(L,{firebase:e})}))),r.a.createElement(u.a,{path:"/"},r.a.createElement(C.Consumer,null,(function(e){return r.a.createElement(k,{firebase:e})}))))))}var M=Object(f.a)({reducer:{resultList:S}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:M},r.a.createElement(C.Provider,{value:new B},r.a.createElement(D,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.aac72965.chunk.js.map